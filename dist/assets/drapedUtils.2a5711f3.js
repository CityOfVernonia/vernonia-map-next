import{ai as e,a8 as t,ec as n,be as s}from"./vendor.c9efa5f2.js";function a(e,t){return t?"xoffset"in t&&t.xoffset?Math.max(e,Math.abs(t.xoffset)):"yoffset"in t&&t.yoffset?Math.max(e,Math.abs(t.yoffset||0)):e:e}function r(e,t){return"number"==typeof e?e:e&&e.stops&&e.stops.length?function(e){let t=0,n=0;for(let s=0;s<e.length;s++){const a=e[s].size;"number"==typeof a&&(t+=a,n++)}return t/n}(e.stops):t}function o(e){const t=e&&e.renderer,n="touch"===(e&&e.event&&e.event.pointerType)?9:6;if(!t)return n;const s="visualVariables"in t?function(e,t){if(!t)return e;const n=t.filter((e=>"size"===e.type)).map((t=>{const{maxSize:n,minSize:s}=t;return(r(n,e)+r(s,e))/2}));let s=0;const a=n.length;if(0===a)return e;for(let r=0;r<a;r++)s+=n[r];const o=Math.floor(s/a);return Math.max(o,e)}(n,t.visualVariables):n;if("simple"===t.type)return a(s,t.symbol);if("unique-value"===t.type){let e=s;return t.uniqueValueInfos.forEach((t=>{e=a(e,t.symbol)})),e}if("class-breaks"===t.type){let e=s;return t.classBreakInfos.forEach((t=>{e=a(e,t.symbol)})),e}return t.type,s}function i(s,a,r,o=new e){let i;if("2d"===r.type)i=a*r.resolution;else if("3d"===r.type){const e=r.overlayPixelSizeInMapUnits(s),o=r.basemapSpatialReference;i=t(o)&&!o.equals(r.spatialReference)?n(o)/n(r.spatialReference):a*e}const f=s.x-i,l=s.y-i,u=s.x+i,c=s.y+i,{spatialReference:p}=r;return o.xmin=Math.min(f,u),o.ymin=Math.min(l,c),o.xmax=Math.max(f,u),o.ymax=Math.max(l,c),o.spatialReference=p,o}function f(e,t,n){const a=n.toMap(e);return!s(a)&&i(a,o(),n,l).intersects(t)}const l=new e;export{i as a,f as o,o as s};
