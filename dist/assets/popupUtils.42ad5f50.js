import{a8 as e,nR as d,nD as n}from"./vendor.c9efa5f2.js";async function p(p,a=p.popupTemplate){if(!e(a))return[];const l=await a.getRequiredFields(p.fieldsIndex),{lastEditInfoEnabled:t}=a,{objectIdField:i,typeIdField:s,globalIdField:u,relationships:f}=p;if(l.includes("*"))return["*"];const o=t?await d(p):[],r=n(p.fieldsIndex,[...l,...o]);return s&&r.push(s),r&&i&&p.fieldsIndex.has(i)&&-1===r.indexOf(i)&&r.push(i),r&&u&&p.fieldsIndex.has(u)&&-1===r.indexOf(u)&&r.push(u),f&&f.forEach((e=>{const{keyField:d}=e;r&&d&&p.fieldsIndex.has(d)&&-1===r.indexOf(d)&&r.push(d)})),r}function a(d,n){return d.popupTemplate?d.popupTemplate:e(n)&&n.defaultPopupTemplateEnabled&&e(d.defaultPopupTemplate)?d.defaultPopupTemplate:null}export{a as d,p as t};
