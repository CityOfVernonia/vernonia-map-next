var e=Object.defineProperty,r=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(r,t,a)=>t in r?e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,c=(e,r)=>{for(var t in r||(r={}))o.call(r,t)&&s(e,t,r[t]);if(a)for(var t of a(r))n.call(r,t)&&s(e,t,r[t]);return e},i=(e,a)=>r(e,t(a));import{an as u,a as p,ef as l,eg as y,eh as f,ei as m}from"./vendor.c9efa5f2.js";function g(e,r,t,a,o){const n=e.referencesGeometry()&&o?function(e,r,t){const{transform:a,hasZ:o,hasM:n}=t;d.has(r)||d.set(r,function(e){const r={};switch(e){case"esriGeometryPoint":return(e,t,a,o)=>m(t,r,e,a,o);case"esriGeometryPolygon":return(e,t,a,o)=>f(t,r,e,a,o);case"esriGeometryPolyline":return(e,t,a,o)=>y(t,r,e,a,o);case"esriGeometryMultipoint":return(e,t,a,o)=>l(t,r,e,a,o);default:return u.getLogger("esri.views.2d.support.arcadeOnDemand").error(new p("mapview-arcade",`Unable to handle geometryType: ${e}`)),e=>e}}(r));const s=d.get(r)(e.geometry,a,o,n);return i(c({},e),{geometry:s})}(r,a,o):r,s=e.repurposeFeature(n);try{return e.evaluate(i(c({},t),{$feature:s}))}catch(g){return u.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",g),null}}const d=new Map;export{g as s};
